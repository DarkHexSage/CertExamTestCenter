<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terraform Associate TA-003 Exam Portal</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 0;
        }
        .container {
            width: 80%;
            max-width: 900px;
            margin: 0 auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .timer {
            font-size: 1.5rem;
            color: #d9534f;
            text-align: right;
        }
        .question {
            font-size: 1.4rem;
            margin: 20px 0;
            color: #333;
        }
        .answers {
            margin: 20px 0;
        }
        .answer-option {
            margin-bottom: 20px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .answer-option input {
            margin-right: 15px;
            transform: scale(1.2);
        }
        .answer-option label {
            font-size: 1.2rem;
            padding: 12px 20px;
            display: block;
            background-color: #f8f8f8;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin: 10px 0;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .answer-option:hover label {
            background-color: #e1f7d5;
        }
        .answer-option.correct label {
            background-color: #dff0d8;
            border-color: #3c763d;
        }
        .answer-option.incorrect label {
            background-color: #f2dede;
            border-color: #a94442;
        }
        button {
            background-color: #5cb85c;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #4cae4c;
        }
        .result {
            display: none;
            text-align: center;
            margin-top: 30px;
        }
        .leaderboard {
            margin-top: 30px;
            text-align: center;
        }
        .leaderboard-table {
            width: 100%;
            margin-top: 20px;
            border-collapse: collapse;
        }
        .leaderboard-table th, .leaderboard-table td {
            padding: 12px;
            border: 1px solid #ddd;
            text-align: left;
        }
        .incorrect {
            color: red;
        }
        .correct {
            color: green;
        }
        .input-group {
            margin-top: 20px;
            text-align: center;
        }
        input[type="text"] {
            padding: 10px 15px;
            font-size: 1.2rem;
            width: 60%;
            margin-right: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
            transition: border-color 0.3s;
        }
        input[type="text"]:focus {
            border-color: #66afe9;
            outline: none;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Terraform Associate TA-003 Exam</h1>
    <div class="timer" id="timer">Time Left: 60:00</div>

    <div id="usernamePrompt" class="input-group">
        <h3>Please enter your name:</h3>
        <input type="text" id="username" placeholder="Enter your name" />
        <button onclick="startExam()">Start Exam</button>
    </div>

    <div id="quiz" style="display: none;">
        <div class="question" id="question">Loading...</div>
        <div class="answers">
            <!-- Options will be added dynamically -->
        </div>
        <button id="nextBtn" onclick="nextQuestion()" disabled>Next Question</button>
    </div>

    <div class="result" id="result">
        <h2>Exam Finished!</h2>
        <p>Your Score: <span id="score"></span></p>
        <button onclick="showLeaderboard()">See Leaderboard</button>
    </div>

    <div class="leaderboard" id="leaderboard" style="display: none;">
        <h3>Leaderboard</h3>
        <table class="leaderboard-table">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Name</th>
                    <th>Score</th>
                </tr>
            </thead>
            <tbody id="leaderboard-body">
                <!-- Leaderboard entries will go here -->
            </tbody>
        </table>
    </div>
</div>

<script>
const questions = [
    {
        question: "Which of these options is the most secure place to store secrets for connecting to a Terraform remote backend?",
        options: ["Defined in Environment variables", "Inside the backend block within the Terraform configuration", "Defined in a connection configuration outside of Terraform", "None of above"],
        correct: 0
    },
    {
        question: "Your DevOps team is currently using the local backend for your Terraform configuration. You would like to move to a remote backend to begin storing the state file in a central location. Which of the following backends would not work?",
        options: ["Amazon S3", "Artifactory", "Git", "Terraform Cloud"],
        correct: 2
    },
    {
        question: "Which backend does the Terraform CLI use by default?",
        options: ["Terraform Cloud", "Consul", "Remote", "Local"],
        correct: 3
    },
    {
        question: "When you initialize Terraform, where does it cache modules from the public Terraform Module Registry?",
        options: ["On disk in the /tmp directory", "In memory", "On disk in the .terraform sub-directory", "They are not cached"],
        correct: 2
    },
    {
        question: "You write a new Terraform configuration and immediately run terraform apply in the CLI using the local backend. Why will the apply fail?",
        options: ["Terraform needs you to format your code according to best practices first", "Terraform needs to install the necessary plugins first", "The Terraform CLI needs you to log into Terraform cloud first", "Terraform requires you to manually run terraform plan first"],
        correct: 1
    },
    {
        question: "What feature stops multiple admins from changing the Terraform state at the same time?",
        options: ["Version control", "Backend types", "Provider constraints", "State locking"],
        correct: 3
    },
    {
        question: "A fellow developer on your team is asking for some help in refactoring their Terraform code. As part of their application’s architecture, they are going to tear down an existing deployment managed by Terraform and deploy new. However, there is a server resource named aws_instance.ubuntu[1] they would like to keep to perform some additional analysis. What command should be used to tell Terraform to no longer manage the resource?",
        options: ["terraform apply rm aws_instance.ubuntu[1]", "terraform state rm aws_instance.ubuntu[1]", "terraform plan rm aws_instance.ubuntu[1]", "terraform delete aws_instance.ubuntu[1]"],
        correct: 1
    },
    {
        question: "Terraform can only manage resource dependencies if you set them explicitly with the depends_on argument.",
        options: ["True", "False"],
        correct: 0
    },
    {
        question: "A terraform apply can not infrastructure.",
        options: ["change", "destroy", "provision", "import"],
        correct: 3
    },
    {
        question: "You need to constrain the GitHub provider to version 2.1 or greater. Which of the following should you put into the Terraform 0.12 configuration’s provider block?",
        options: ["version >= 2.1", "version ~> 2.1", "version = “<= 2.1”", "version = “>= 2.1”"],
        correct: 3
    },
    {
        question: "You just scaled your VM infrastructure and realized you set the count variable to the wrong value. You correct the value and save your change. What do you do next to make your infrastructure match your configuration?",
        options: ["Run an apply and confirm the planned changes", "Inspect your Terraform state because you want to change it", "Reinitialize because your configuration has changed", "Inspect all Terraform outputs to make sure they are correct"],
        correct: 0
    },
    {
        question: "Terraform provisioners that require authentication can use the block.",
        options: ["connection", "credentials", "secrets", "ssh"],
        correct: 0
    },
    {
        question: "Terraform validate reports syntax check errors from which of the following scenarios?",
        options: ["Code contains tabs indentation instead of spaces", "There is missing value for a variable", "The state files does not match the current infrastructure", "None of the above"],
        correct: 1
    },
    {
        question: "Which of the following is allowed as a Terraform variable name?",
        options: ["count", "name", "source", "version"],
        correct: 1
    },
    {
        question: "What type of block is used to construct a collection of nested configuration blocks?",
        options: ["for_each", "repeated", "nesting", "dynamic"],
        correct: 3
    },
    {
        question: "Module variable assignments are inherited from the parent module and do not need to be explicitly set.",
        options: ["True", "False"],
        correct: 1
    },
    {
        question: "If writing Terraform code that adheres to the Terraform style conventions, how would you properly indent each nesting level compared to the one above it?",
        options: ["With four spaces", "With a tab", "With three spaces", "With two spaces"],
        correct: 3
    },
    {
        question: "Which of the following is not an action performed by terraform init?",
        options: ["Create a sample main.tf file", "Initialize a configured backend", "Retrieve the source code for all referenced modules", "Load required provider plugins"],
        correct: 0
    },
    {
        question: "HashiCorp Configuration Language (HCL) supports user-defined functions.",
        options: ["True", "False"],
        correct: 1
    },
    {
        question: "How can you trigger a run in a Terraform Cloud workspace that is connected to a Version Control System (VCS) repository?",
        options: ["Only Terraform Cloud organization owners can set workspace variables on VCS connected workspaces", "Commit a change to the VCS working directory and branch that the Terraform Cloud workspace is connected to", "Only members of a VCS organization can open a pull request against repositories that are connected to Terraform Cloud workspaces", "Only Terraform Cloud organization owners can approve plans in VCS connected workspaces"],
        correct: 1
    },
    {
        question: "Terraform and Terraform providers must use the same major version number in a single configuration.",
        options: ["True", "False"],
        correct: 1
    },
    {
        question: "Which statement describes a goal of infrastructure as code?",
        options: ["An abstraction from vendor specific APIs", "Write once, run anywhere", "A pipeline process to test and deliver software", "The programmatic configuration of resources"],
        correct: 3
    },
    {
        question: "You need to deploy resources into two different cloud regions in the same Terraform configuration. To do that, you declare multiple provider configurations as follows: provider \"aws\" { region = \"us-east-1\" } provider \"aws\" { alias = \"west\" region = \"us-west-2\" } What meta-argument do you need to configure in a resource block to deploy the resource to the “us-west-2” AWS region?",
        options: ["alias = west", "provider = west", "provider = aws.west", "alias = aws.west"],
        correct: 2
    },
    {
        question: "You have declared an input variable called environment in your parent module. What must you do to pass the value to a child module in the configuration?",
        options: ["Add node_count = var.node_count", "Declare the variable in a terraform.tfvars file", "Declare a node_count input variable for child module", "Nothing, child modules inherit variables of parent module"],
        correct: 2
    },

  {
    question: "Where in your Terraform configuration do you specify a state backend?",
    options: ["The terraform block", "The resource block", "The provider block", "The datasource block"],
    correct: 0
  },
  {
    question: "In Terraform 0.13 and above, outside of the required_providers block, Terraform configurations always refer to providers by their local names.",
    options: ["True", "False"],
    correct: 0
  },
  {
    question: "What command should you run to display all workspaces for the current configuration?",
    options: ["terraform workspace", "terraform workspace show", "terraform workspace list", "terraform show workspace"],
    correct: 2
  },
  {
    question: "Terraform providers are always installed from the Internet.",
    options: ["True", "False"],
    correct: 1
  },
  {
    question: "Which of these is the best practice to protect sensitive values in state files?",
    options: ["Blockchain", "Secure Sockets Layer (SSL)", "Enhanced remote backends", "Signed Terraform providers"],
    correct: 2
  },
  {
    question: "When does terraform apply reflect changes in the cloud environment?",
    options: [
      "Immediately",
      "However long it takes the resource provider to fulfill the request",
      "After updating the state file",
      "Based on the value provided to the -refresh command line argument",
      "None of the above"
    ],
    correct: 1
  },
  {
    question: "How would you reference the 'name' value of the second instance of this fictitious resource?\n\nresource \"aws_instance\" \"web\" {\n  count = 2\n  name = \"terraform-${count.index}\"\n}",
    options: [
      "element(aws_instance.web, 2)",
      "aws_instance.web[1].name",
      "aws_instance.web[1]",
      "aws_instance.web[2].name",
      "aws_instance.web.*.name"
    ],
    correct: 1
  },
  {
    question: "A Terraform provider is not responsible for:",
    options: [
      "Understanding API interactions with some service",
      "Provisioning infrastructure in multiple clouds",
      "Exposing resources and data sources based on an API",
      "Managing actions to take based on resource differences"
    ],
    correct: 1
  },
  {
    question: "Terraform provisioners can be added to any resource block.",
    options: ["True", "False"],
    correct: 0
  },
  {
    question: "What is terraform refresh intended to detect?",
    options: ["Terraform configuration code changes", "Empty state files", "State file drift", "Corrupt state files"],
    correct: 2
  },
  {
    question: "A Terraform local value can reference other Terraform local values.",
    options: ["True", "False"],
    correct: 0
  },
  {
    question: "Which of the following is not a valid Terraform collection type?",
    options: ["list", "map", "tree", "set"],
    correct: 2
  },
  {
    question: "When running the command terraform taint against a managed resource you want to force recreation upon, Terraform will immediately destroy and recreate the resource.",
    options: ["True", "False"],
    correct: 1
  },
  {
    question: "All standard backend types support state storage, locking, and remote operations like plan, apply, and destroy.",
    options: ["True", "False"],
    correct: 1
  },
  {
    question: "How can terraform plan aid in the development process?",
    options: [
      "Validates your expectations against the execution plan without permanently modifying state",
      "Initializes your working directory containing your Terraform configuration files",
      "Formats your Terraform configuration files",
      "Reconciles Terraform’s state against deployed resources and permanently modifies state using the current status of deployed resources"
    ],
    correct: 0
  },
  {
    question: "You would like to reuse the same Terraform configuration for your development and production environments with a different state file for each. Which command would you use?",
    options: ["terraform import", "terraform workspace", "terraform state", "terraform init"],
    correct: 1
  },
  {
    question: "What is the name assigned by Terraform to reference this resource? mainresource \"google_compute_instance\" \"main\" name = \"test\"",
    options: ["compute_instance", "main", "google", "test"],
    correct: 1
  },
  {
    question: "You’re building a CI/CD pipeline and need to inject sensitive variables into your Terraform run. How can you do this safely?",
    options: [
      "Pass variables to Terraform with a --var flag",
      "Copy the sensitive variables into your Terraform code",
      "Store the sensitive variables in a secure_vars.tf file",
      "Store the sensitive variables as plain text in a source code repository"
    ],
    correct: 0
  },
  {
    question: "Your security team scanned some Terraform workspaces and found secrets stored in plaintext in state files. How can you protect sensitive data stored in Terraform state files?",
    options: [
      "Delete the state file every time you run Terraform",
      "Store the state in an encrypted backend",
      "Edit your state file to scrub out the sensitive data",
      "Always store your secrets in a secrets.tfvars file"
    ],
    correct: 1
  },
  {
    question: "In contrast to Terraform Open Source, when working with Terraform Enterprise and Cloud Workspaces, conceptually you could think about them as completely separate working directories.",
    options: ["True", "False"],
    correct: 0
  },
  {
    question: "You want to know from which paths Terraform is loading providers referenced in your Terraform configuration. You need to enable debug messages to find this out. Which of the following would achieve this?",
    options: [
      "Set the environment variable TF_LOG=TRACE",
      "Set verbose logging for each provider in your Terraform configuration",
      "Set the environment variable TF_VAR_log=TRACE",
      "Set the environment variable TF_LOG_PATH"
    ],
    correct: 0
  },
  {
    question: "How is terraform import run?",
    options: [
      "As a part of terraform init",
      "As a part of terraform plan",
      "As a part of terraform refresh",
      "By an explicit call",
      "All of the above"
    ],
    correct: 3
  },
  {
    question: "You have a simple Terraform configuration containing one virtual machine (VM) in a cloud provider. You run terraform apply and the VM is created successfully. What will happen if you delete the VM using the cloud provider console, and run terraform apply again without changing any Terraform code?",
    options: [
      "Terraform will remove the VM from state file",
      "Terraform will report an error",
      "Terraform will not make any changes",
      "Terraform will recreate the VM"
    ],
    correct: 3
  }


        // Add more questions here
    ];

    let currentQuestionIndex = 0;
    let score = 0;
    let timer = 3600; // 60 minutes in seconds
    let timerInterval;
    let leaderboard = [];
    let username = "";

    function startExam() {
        username = document.getElementById("username").value.trim();
        if (!username) {
            alert("Please enter a valid name.");
            return;
        }

        document.getElementById("usernamePrompt").style.display = "none";
        document.getElementById("quiz").style.display = "block";

        startTimer();
        loadQuestion();
    }

    function startTimer() {
        timerInterval = setInterval(() => {
            if (timer > 0) {
                timer--;
                let minutes = Math.floor(timer / 60);
                let seconds = timer % 60;
                document.getElementById("timer").textContent = `Time Left: ${minutes}:${seconds < 10 ? '0' + seconds : seconds}`;
            } else {
                clearInterval(timerInterval);
                endExam();
            }
        }, 1000);
    }

    function loadQuestion() {
        const question = questions[currentQuestionIndex];
        document.getElementById("question").textContent = question.question;

        const answersDiv = document.querySelector(".answers");
        answersDiv.innerHTML = "";
        question.options.forEach((option, index) => {
            const optionDiv = document.createElement("div");
            optionDiv.classList.add("answer-option");
            optionDiv.innerHTML = `<input type="radio" name="answer" value="${index}" id="option${index}"> <label for="option${index}">${option}</label>`;
            answersDiv.appendChild(optionDiv);
        });

        // Enable the "Next Question" button only after selecting an answer
        document.getElementById("nextBtn").disabled = false;
    }

    function nextQuestion() {
        const selectedAnswer = document.querySelector("input[name='answer']:checked");
        if (selectedAnswer) {
            const selectedIndex = parseInt(selectedAnswer.value);
            const question = questions[currentQuestionIndex];

            // Check if the selected answer is correct
            const answerOptions = document.querySelectorAll(".answer-option");
            answerOptions.forEach((optionDiv, index) => {
                const input = optionDiv.querySelector("input");
                if (index === question.correct) {
                    optionDiv.classList.add("correct"); // Green for correct
                } else if (index === selectedIndex) {
                    optionDiv.classList.add("incorrect"); // Red for wrong
                }
                input.disabled = true; // Disable options after selection
            });

            if (selectedIndex === question.correct) {
                score++;
            }

            // Wait for 3 seconds before loading the next question
            setTimeout(() => {
                currentQuestionIndex++;

                if (currentQuestionIndex < questions.length) {
                    loadQuestion();
                } else {
                    endExam();
                }
            }, 2000); // 1 seconds delay
        } else {
            alert("Please select an answer.");
        }
    }

    function endExam() {
        document.getElementById("quiz").style.display = "none";
        document.getElementById("result").style.display = "block";
        document.getElementById("score").textContent = score;

        leaderboard.push({ name: username, score: score });
        leaderboard.sort((a, b) => b.score - a.score); // Sort leaderboard by score
    }

    function showLeaderboard() {
        document.getElementById("result").style.display = "none";
        document.getElementById("leaderboard").style.display = "block";

        const leaderboardBody = document.getElementById("leaderboard-body");
        leaderboardBody.innerHTML = "";
        leaderboard.forEach((entry, index) => {
            const row = document.createElement("tr");
            row.innerHTML = `<td>${index + 1}</td><td>${entry.name}</td><td>${entry.score}</td>`;
            leaderboardBody.appendChild(row);
        });
    }
</script>

</body>
</html>

